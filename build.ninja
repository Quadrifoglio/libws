cc = clang
cflags = -I. -g -Wall -Wextra -Wno-unused-parameter -Wno-missing-field-initializers

rule cc
  command = $cc -c $cflags -o $out $in
  description = CC $in

rule ld
  command = $cc $ldflags -o $out $in
  description = LD $in

build build/ws.o: cc ws.c

build build/server.o: cc examples/server.c
build build/server: ld build/server.o build/ws.o
